# ============================================
# ENVIRONMENT VARIABLES CONFIGURATION
# Android Device Management Dashboard
# ============================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control!
# ============================================

# ============================================
# SUPABASE CONFIGURATION (REQUIRED)
# ============================================
# Get these from: https://app.supabase.com/project/_/settings/api

# Supabase Project URL
# Example: https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url

# Supabase Anonymous Key (Public - safe for client-side)
# This is the anon/public key from Supabase
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Supabase Service Role Key (SECRET - server-side only)
# âš ï¸ KEEP THIS SECRET - Never expose to client-side!
# Required for admin operations and profile creation
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# ============================================
# SITE & APP URLS (REQUIRED FOR PRODUCTION)
# ============================================

# Production Site URL (REQUIRED in production)
# This is used for email verification links and redirects
# Must be HTTPS in production, no localhost allowed
# Example: https://yourdomain.com
NEXT_PUBLIC_SITE_URL=https://yourdomain.com

# Next.js App URL (Optional but recommended)
# Used for CORS configuration and Socket.IO connections
# Example: https://yourdomain.com
NEXT_PUBLIC_APP_URL=https://yourdomain.com

# ============================================
# DEVICE SERVER CONFIGURATION (REQUIRED)
# ============================================

# Device Server URL (Public - client-side)
# For local development: http://localhost:9211
# For production with tunnel: https://your-tunnel-id.localtonet.com:9211
# This is the URL where device-server.js is accessible
NEXT_PUBLIC_DEVICE_SERVER_URL=http://localhost:9211

# Device Server URL (Server-side only - optional)
# Used by API routes to communicate with device server
# If not set, uses NEXT_PUBLIC_DEVICE_SERVER_URL
DEVICE_SERVER_URL=http://localhost:9211

# Device Server Port (Optional - defaults to 9211)
# Port where device-server.js listens
PORT=9211

# Device Server Host (Optional - defaults to 0.0.0.0)
# Host where device-server.js listens
# Use 0.0.0.0 to listen on all interfaces
HOST=0.0.0.0

# ============================================
# CORS & SECURITY (OPTIONAL BUT RECOMMENDED)
# ============================================

# Allowed Origins for CORS (Comma-separated)
# List all domains that should be allowed to connect
# Include your app URL and device server tunnel URL if using one
# Example: https://yourdomain.com,https://your-tunnel.localtonet.com:9211
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:9211

# Device Authentication Secret (Optional but recommended)
# Secret token for device authentication
# If not set, uses default (less secure)
# Generate a strong random string for production
DEVICE_AUTH_SECRET=your_strong_random_secret_here

# ============================================
# WEBHOOK CONFIGURATION (OPTIONAL)
# ============================================

# Webhook URL (Optional)
# URL where webhook events should be sent
# Default: http://localhost:3000/api/webhooks/device-events
WEBHOOK_URL=http://localhost:3000/api/webhooks/device-events

# Webhook Secret (Optional but recommended)
# Secret token for webhook authentication
# If not set, webhook authentication is disabled (less secure)
# Generate a strong random string for production
WEBHOOK_SECRET=your_webhook_secret_here

# ============================================
# NODE ENVIRONMENT
# ============================================

# Node Environment
# Set to "production" for production deployments
# Set to "development" for local development
NODE_ENV=development

# ============================================
# NOTES
# ============================================
# 
# 1. REQUIRED VARIABLES (Minimum to run):
#    - NEXT_PUBLIC_SUPABASE_URL
#    - NEXT_PUBLIC_SUPABASE_ANON_KEY
#    - SUPABASE_SERVICE_ROLE_KEY
#    - NEXT_PUBLIC_SITE_URL (required in production)
#    - NEXT_PUBLIC_DEVICE_SERVER_URL
#
# 2. PRODUCTION REQUIREMENTS:
#    - NEXT_PUBLIC_SITE_URL must be set and use HTTPS
#    - NEXT_PUBLIC_SITE_URL cannot contain localhost
#    - ALLOWED_ORIGINS should include your production domains
#    - DEVICE_AUTH_SECRET should be set to a strong random value
#    - WEBHOOK_SECRET should be set for webhook security
#
# 3. SECURITY BEST PRACTICES:
#    - Never commit .env.local to version control
#    - Use strong, random secrets for DEVICE_AUTH_SECRET and WEBHOOK_SECRET
#    - Rotate secrets regularly
#    - Use different values for development and production
#    - Keep SUPABASE_SERVICE_ROLE_KEY secret (server-side only)
#
# 4. TUNNEL SETUP (For external device access):
#    - Set NEXT_PUBLIC_DEVICE_SERVER_URL to your tunnel URL
#    - Add tunnel URL to ALLOWED_ORIGINS
#    - Example: https://your-tunnel-id.localtonet.com:9211
#
# ============================================
